"use strict";(self.webpackChunkmyspliter=self.webpackChunkmyspliter||[]).push([[226],{834:(e,t,r)=>{r.d(t,{A:()=>o});r(5043);var n=r(5376),a=r(6446),s=r(9252),l=r(579);function o(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.Ay,{}),(0,l.jsx)(s.A,{maxWidth:"sm",children:(0,l.jsxs)(a.A,{sx:{bgcolor:"#516df5",height:"150px",color:"#fff",textAlign:"center"},children:[(0,l.jsx)("h2",{children:"All rights reserved"}),(0,l.jsx)("p",{children:"@ 2024"})]})})]})}},8140:(e,t,r)=>{r.d(t,{A:()=>i});r(5043);var n=r(5376),a=r(6446),s=r(9252),l=r(3216),o=r(2067),c=r(579);function i(){const e=(0,l.Zp)(),{removeItem:t}=(0,o.A)("group");return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Ay,{}),(0,c.jsx)(s.A,{maxWidth:"sm",children:(0,c.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",alignItems:"top",bgcolor:"#2b4fff",height:"100px",color:"#fff"},children:(0,c.jsx)("h1",{onClick:()=>{t(),e("/")},style:{cursor:"pointer"},children:"Bill Splitter"})})})]})}},2067:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(5043);const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=(0,n.useCallback)((t=>{try{window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log(r)}}),[e]);return{getItem:(0,n.useCallback)((e=>{try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):void 0}catch(t){console.log(t)}}),[]),setItem:t,removeItem:(0,n.useCallback)((()=>{try{window.localStorage.removeItem(e)}catch(t){console.log(t)}}),[e])}}},2226:(e,t,r)=>{r.r(t),r.d(t,{default:()=>E});var n=r(5043),a=r(8140),s=r(834),l=r(9252),o=r(5376),c=r(6446),i=r(8911),p=r(3845),d=r(1906),h=r(9419),m=r(9190),u=r(4770),g=r(8988),x=r(5795),y=r(675),b=r(3217),j=r(4111),f=r(2067),A=r(8742),w=r(3216),v=r(1637),k=r(579);const O={payingMember:"",paymentOf:"",amount:0};function C(e){let{group:t}=e;const[r,a]=(0,n.useState)(O),[s,l]=(0,n.useState)({}),[o,c]=(0,n.useState)(!1),[p,C]=(0,n.useState)({}),{getItem:S}=(0,f.A)("group"),E=(0,w.Zp)(),I=e=>{const{name:t,value:r}=e.target;a((e=>({...e,[t]:r})))},W=e=>{const{checked:t,name:r}=e.target;t&&l((e=>({...e,[r]:0})))};return(0,k.jsxs)(i.A,{spacing:5,direction:"column",sx:{margin:1},children:[(0,k.jsxs)(h.A,{fullWidth:!0,children:[(0,k.jsx)(m.A,{id:"demo-simple-select-label",children:"Payer Person"}),(0,k.jsx)(u.A,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:r.payingMember,name:"payingMember",label:"Payer Person",error:!!p.payingMember,helpText:p.payingMember,onChange:I,children:t.members.map((e=>(0,k.jsx)(g.A,{value:e,children:e},e)))})]}),(0,k.jsx)(x.A,{id:"outlined-basic",label:"Payment of",placeholder:"Restaurent bill",name:"paymentOf",value:r.paymentOf,variant:"outlined",onChange:I,error:!!p.paymentOf,helperText:p.paymentOf,required:!0}),(0,k.jsx)(x.A,{id:"outlined-basic",label:"Price",type:"number",name:"amount",value:r.amount,error:!!p.amount,helperText:p.amount,onChange:I,variant:"outlined",required:!0}),(0,k.jsxs)(i.A,{spacing:1,direction:"row",sx:{margin:1},useFlexGap:!0,flexWrap:"wrap",children:[(0,k.jsx)("h3",{children:"Split between:"}),t.members.map((e=>(0,k.jsx)(y.A,{control:(0,k.jsx)(b.A,{name:e,onChange:W},e),label:e})))]}),(0,k.jsx)(d.A,{variant:"contained",size:"large",onClick:async()=>{const{isError:e,errors:t}=(()=>{const e={};r.paymentOf?/^[a-zA-Z\s]+$/.test(r.paymentOf)||(e.paymentOf="error: only characters allowed"):e.paymentOf="error: cannot be empty",r.payingMember||(e.payingMember="error: no payer selected"),0===r.amount&&(e.amount="error: cannot be zero");const t=Object.keys(e).length>0;return t||C({}),{isError:t,errors:e}})();if(C(t),e)return;c(!0);const n=(r.amount/Object.keys(s).length).toFixed(2);Object.keys(s).forEach((e=>{s[e]=n})),a((e=>({...e,members:s})));try{const{id:e}=S("group"),{data:{data:{paymentId:t}}}=await(0,j.Y)({...r,members:s});await(0,A.$5)(t,e),E("/show-contri")}catch(p){console.error(p)}finally{c(!1)}},disabled:o||0===Object.keys(s).length,children:o?(0,k.jsx)(v.A,{}):"Save"})]})}function S(){const{getItem:e}=(0,f.A)("group"),[t,r]=(0,n.useState)({}),[a,s]=(0,n.useState)(!1),[h,m]=(0,n.useState)(!1),u=(0,w.Zp)();(0,n.useEffect)((()=>{const{id:t}=e("group");t&&(async e=>{m(!0);try{const{data:{data:t=""}}=await(0,A.Wx)(e);t?(delete t._id,delete t.currency,r({groupName:Object.keys(t)[0],members:t[Object.keys(t)[0]]})):u("/")}catch(t){console.error(t)}finally{m(!1)}})(t)}),[e,u]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(o.Ay,{}),(0,k.jsx)(l.A,{maxWidth:"sm",children:h?(0,k.jsx)(c.A,{sx:{display:"flex",justifyContent:"center"},children:(0,k.jsx)(v.A,{})}):(0,k.jsx)(c.A,{component:"form",sx:{bgcolor:"#ebedf7",height:"100%"},children:a?(0,k.jsx)(C,{group:t}):(0,k.jsxs)(i.A,{spacing:6,direction:"column",sx:{margin:1},children:[(0,k.jsx)("div",{style:{textAlign:"center",fontFamily:"sans-serif"},children:(0,k.jsx)("h2",{children:t.groupName})}),(0,k.jsx)(i.A,{direction:"row",spacing:1,style:{marginTop:0},useFlexGap:!0,flexWrap:"wrap",children:Object.keys(t).length>0&&t.members.map((e=>(0,k.jsx)(p.A,{label:e},e)))}),(0,k.jsx)(d.A,{variant:"outlined",size:"large",onClick:()=>s(!0),children:"Add a Payment"})]})})})]})}function E(){return(0,k.jsxs)(l.A,{sx:{display:"flex",justifyContent:"top",alignItems:"top",flexDirection:"column",height:"100vh"},children:[(0,k.jsx)(a.A,{}),(0,k.jsx)(S,{}),(0,k.jsx)(s.A,{})]})}},8742:(e,t,r)=>{r.d(t,{$:()=>a,$5:()=>s,Wx:()=>l});var n=r(7154);const a=async e=>{try{return await n.A.post("https://bill-splitter-server.vercel.app/group/add",{...e})}catch(t){throw new Error("Error while sending http request: ".concat(t))}},s=async(e,t)=>{try{return await n.A.put("https://bill-splitter-server.vercel.app/group/add-expense/".concat(t),{data:e})}catch(r){throw new Error("Error while sending http request: ".concat(r))}},l=async e=>{try{return await n.A.get("https://bill-splitter-server.vercel.app/group/get/".concat(e))}catch(t){throw new Error("Error while sending http request: ".concat(t))}}},4111:(e,t,r)=>{r.d(t,{Y:()=>a,h:()=>s});var n=r(7154);const a=async e=>{try{return await n.A.post("https://bill-splitter-server.vercel.app/payment/add",{...e})}catch(t){throw new Error("Error while sending http request: ".concat(t))}},s=async e=>{try{return await n.A.get("https://bill-splitter-server.vercel.app/payment/get/".concat(e))}catch(t){throw new Error("Error while sending http request: ".concat(t))}}}}]);
//# sourceMappingURL=226.b068790d.chunk.js.map
"use strict";(self.webpackChunkmyspliter=self.webpackChunkmyspliter||[]).push([[832],{834:(e,t,r)=>{r.d(t,{A:()=>s});r(5043);var o=r(5376),a=r(6446),n=r(9252),i=r(579);function s(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.Ay,{}),(0,i.jsx)(n.A,{maxWidth:"sm",children:(0,i.jsxs)(a.A,{sx:{bgcolor:"#516df5",height:"150px",color:"#fff",textAlign:"center"},children:[(0,i.jsx)("h2",{children:"All rights reserved"}),(0,i.jsx)("p",{children:"@ 2024"})]})})]})}},8140:(e,t,r)=>{r.d(t,{A:()=>c});r(5043);var o=r(5376),a=r(6446),n=r(9252),i=r(3216),s=r(2067),l=r(579);function c(){const e=(0,i.Zp)(),{removeItem:t}=(0,s.A)("group");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.Ay,{}),(0,l.jsx)(n.A,{maxWidth:"sm",children:(0,l.jsx)(a.A,{sx:{display:"flex",justifyContent:"center",alignItems:"top",bgcolor:"#2b4fff",height:"100px",color:"#fff"},children:(0,l.jsx)("h1",{onClick:()=>{t(),e("/")},style:{cursor:"pointer"},children:"Bill Splitter"})})})]})}},2067:(e,t,r)=>{r.d(t,{A:()=>a});var o=r(5043);const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=(0,o.useCallback)((t=>{try{window.localStorage.setItem(e,JSON.stringify(t))}catch(r){console.log(r)}}),[e]);return{getItem:(0,o.useCallback)((e=>{try{const t=window.localStorage.getItem(e);return t?JSON.parse(t):void 0}catch(t){console.log(t)}}),[]),setItem:t,removeItem:(0,o.useCallback)((()=>{try{window.localStorage.removeItem(e)}catch(t){console.log(t)}}),[e])}}},6832:(e,t,r)=>{r.r(t),r.d(t,{default:()=>he});var o=r(5043),a=r(8140),n=r(834),i=r(9252),s=r(5376),l=r(6446),c=r(1637),d=r(8911),p=r(3845),h=r(1906),u=r(8168),m=r(8587),g=r(8387),v=r(8606),y=r(2876),x=r(4535),A=r(7056),f=r(2400);function b(e){return(0,f.Ay)("MuiTableContainer",e)}(0,A.A)("MuiTableContainer",["root"]);var w=r(579);const j=["className","component"],k=(0,x.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),S=o.forwardRef((function(e,t){const r=(0,y.A)({props:e,name:"MuiTableContainer"}),{className:o,component:a="div"}=r,n=(0,m.A)(r,j),i=(0,u.A)({},r,{component:a}),s=(e=>{const{classes:t}=e;return(0,v.A)({root:["root"]},b,t)})(i);return(0,w.jsx)(k,(0,u.A)({ref:t,as:a,className:(0,g.A)(s.root,o),ownerState:i},n))}));const C=o.createContext();function M(e){return(0,f.Ay)("MuiTable",e)}(0,A.A)("MuiTable",["root","stickyHeader"]);const R=["className","component","padding","size","stickyHeader"],T=(0,x.Ay)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:r}=e;return(0,u.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,u.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},r.stickyHeader&&{borderCollapse:"separate"})})),N="table",H=o.forwardRef((function(e,t){const r=(0,y.A)({props:e,name:"MuiTable"}),{className:a,component:n=N,padding:i="normal",size:s="medium",stickyHeader:l=!1}=r,c=(0,m.A)(r,R),d=(0,u.A)({},r,{component:n,padding:i,size:s,stickyHeader:l}),p=(e=>{const{classes:t,stickyHeader:r}=e,o={root:["root",r&&"stickyHeader"]};return(0,v.A)(o,M,t)})(d),h=o.useMemo((()=>({padding:i,size:s,stickyHeader:l})),[i,s,l]);return(0,w.jsx)(C.Provider,{value:h,children:(0,w.jsx)(T,(0,u.A)({as:n,role:n===N?null:"table",ref:t,className:(0,g.A)(p.root,a),ownerState:d},c))})}));const z=o.createContext();function I(e){return(0,f.Ay)("MuiTableBody",e)}(0,A.A)("MuiTableBody",["root"]);const D=["className","component"],O=(0,x.Ay)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),P={variant:"body"},B="tbody",F=o.forwardRef((function(e,t){const r=(0,y.A)({props:e,name:"MuiTableBody"}),{className:o,component:a=B}=r,n=(0,m.A)(r,D),i=(0,u.A)({},r,{component:a}),s=(e=>{const{classes:t}=e;return(0,v.A)({root:["root"]},I,t)})(i);return(0,w.jsx)(z.Provider,{value:P,children:(0,w.jsx)(O,(0,u.A)({className:(0,g.A)(s.root,o),as:a,ref:t,role:a===B?null:"rowgroup",ownerState:i},n))})}));var E=r(7266);function W(e){return(0,f.Ay)("MuiTableRow",e)}const X=(0,A.A)("MuiTableRow",["root","selected","hover","head","footer"]),q=["className","component","hover","selected"],J=(0,x.Ay)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.head&&t.head,r.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(X.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(X.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,E.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,E.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),L="tr",Z=o.forwardRef((function(e,t){const r=(0,y.A)({props:e,name:"MuiTableRow"}),{className:a,component:n=L,hover:i=!1,selected:s=!1}=r,l=(0,m.A)(r,q),c=o.useContext(z),d=(0,u.A)({},r,{component:n,hover:i,selected:s,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),p=(e=>{const{classes:t,selected:r,hover:o,head:a,footer:n}=e,i={root:["root",r&&"selected",o&&"hover",a&&"head",n&&"footer"]};return(0,v.A)(i,W,t)})(d);return(0,w.jsx)(J,(0,u.A)({as:n,ref:t,className:(0,g.A)(p.root,a),role:n===L?null:"row",ownerState:d},l))})),_=Z;var G=r(6803);function Q(e){return(0,f.Ay)("MuiTableCell",e)}const Y=(0,A.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),$=["align","className","component","padding","scope","size","sortDirection","variant"],K=(0,x.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["size".concat((0,G.A)(r.size))],"normal"!==r.padding&&t["padding".concat((0,G.A)(r.padding))],"inherit"!==r.align&&t["align".concat((0,G.A)(r.align))],r.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:r}=e;return(0,u.A)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?(0,E.a)((0,E.X4)(t.palette.divider,1),.88):(0,E.e$)((0,E.X4)(t.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===r.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===r.variant&&{color:(t.vars||t).palette.text.primary},"footer"===r.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===r.size&&{padding:"6px 16px",["&.".concat(Y.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===r.padding&&{width:48,padding:"0 0 0 4px"},"none"===r.padding&&{padding:0},"left"===r.align&&{textAlign:"left"},"center"===r.align&&{textAlign:"center"},"right"===r.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===r.align&&{textAlign:"justify"},r.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),U=o.forwardRef((function(e,t){const r=(0,y.A)({props:e,name:"MuiTableCell"}),{align:a="inherit",className:n,component:i,padding:s,scope:l,size:c,sortDirection:d,variant:p}=r,h=(0,m.A)(r,$),x=o.useContext(C),A=o.useContext(z),f=A&&"head"===A.variant;let b;b=i||(f?"th":"td");let j=l;"td"===b?j=void 0:!j&&f&&(j="col");const k=p||A&&A.variant,S=(0,u.A)({},r,{align:a,component:b,padding:s||(x&&x.padding?x.padding:"normal"),size:c||(x&&x.size?x.size:"medium"),sortDirection:d,stickyHeader:"head"===k&&x&&x.stickyHeader,variant:k}),M=(e=>{const{classes:t,variant:r,align:o,padding:a,size:n,stickyHeader:i}=e,s={root:["root",r,i&&"stickyHeader","inherit"!==o&&"align".concat((0,G.A)(o)),"normal"!==a&&"padding".concat((0,G.A)(a)),"size".concat((0,G.A)(n))]};return(0,v.A)(s,Q,t)})(S);let R=null;return d&&(R="asc"===d?"ascending":"descending"),(0,w.jsx)(K,(0,u.A)({as:b,ref:t,className:(0,g.A)(M.root,n),"aria-sort":R,scope:j,ownerState:S},h))})),V=U;var ee=r(3336);function te(e){return(0,f.Ay)("MuiTableHead",e)}(0,A.A)("MuiTableHead",["root"]);const re=["className","component"],oe=(0,x.Ay)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),ae={variant:"head"},ne="thead",ie=o.forwardRef((function(e,t){const r=(0,y.A)({props:e,name:"MuiTableHead"}),{className:o,component:a=ne}=r,n=(0,m.A)(r,re),i=(0,u.A)({},r,{component:a}),s=(e=>{const{classes:t}=e;return(0,v.A)({root:["root"]},te,t)})(i);return(0,w.jsx)(z.Provider,{value:ae,children:(0,w.jsx)(oe,(0,u.A)({as:a,className:(0,g.A)(s.root,o),ref:t,role:a===ne?null:"rowgroup",ownerState:i},n))})}));var se=r(4111),le=r(2067),ce=r(3216);const de=e=>{const t=[],r=[],o=[];if(0===e.length)return;const a=e=>{t.splice(e,1),r.splice(e,1),o.splice(e,1)};Object.values(e).forEach((e=>{Object.keys(e.members).forEach((a=>{t.push(a),r.push(e.payingMember),o.push(parseFloat(e.members[a]).toFixed(2))}))}));for(let n=0;n<t.length;n++)for(let e=0;e<r.length;e++)if(n!==e&&(t[n]===r[n]&&a(n),t[n]===r[e]&&r[n]===t[e])){const t=Math.abs(o[n]-o[e]);o[n]>o[e]?(o[n]=t,a(e)):(o[e]=t,a(n))}return{giver:t,taker:r,money:o}};function pe(){var e,t,r,a;const{getItem:n}=(0,le.A)("group"),[u,m]=(0,o.useState)({}),[g,v]=(0,o.useState)(!1),[y,x]=(0,o.useState)(!1),A=(0,ce.Zp)(),f=(0,ce.RQ)("show-contri/:groupId"),b=null===f||void 0===f||null===(e=f.params)||void 0===e?void 0:e.groupId,j=n("group"),{id:k=null}=j||{};(0,o.useEffect)((()=>{if(k||b){x(!0);(async e=>{try{const{data:{data:t}}=await(0,se.h)(e);if(t){const{expenses:e,currency:r}=t[0];delete t[0].expenses,delete t[0].currency,delete t[0]._id;const o=t[0],a=Object.keys(o);m({groupName:a,members:t[0][a],expenses:e,distribution:de(e),currency:r})}else A("/")}catch(t){console.error(t)}finally{x(!1)}})(k||b)}}),[n,b,k,A]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.Ay,{}),(0,w.jsx)(i.A,{maxWidth:"sm",children:(0,w.jsx)(l.A,{component:"form",sx:{bgcolor:"#ebedf7",height:"100%"},children:y?(0,w.jsx)(l.A,{sx:{display:"flex",justifyContent:"center"},children:(0,w.jsx)(c.A,{})}):(0,w.jsxs)(d.A,{spacing:5,direction:"column",sx:{margin:1},children:[(0,w.jsx)("div",{style:{textAlign:"center",fontFamily:"sans-serif"},children:(0,w.jsx)("h2",{children:u.groupName})}),(0,w.jsx)(d.A,{direction:"row",spacing:1,style:{marginTop:0},useFlexGap:!0,flexWrap:"wrap",children:u.members&&u.members.map((e=>(0,w.jsx)(p.A,{label:e},e)))}),(0,w.jsx)(h.A,{variant:"contained",size:"large",onClick:()=>A("/splitter"),children:"Add Payments"}),(0,w.jsx)(S,{children:(0,w.jsx)(H,{"aria-label":"simple table",children:(0,w.jsx)(F,{children:(null===(t=u.expenses)||void 0===t?void 0:t.length)>0&&u.expenses.map((e=>(0,w.jsxs)(_,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,w.jsxs)(V,{component:"th",scope:"row",children:[(0,w.jsx)("h2",{style:{marginBottom:"-5px"},children:e.paymentOf}),(0,w.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,w.jsx)("p",{style:{margin:"5px",marginLeft:"0px"},children:(0,w.jsx)("b",{children:"".concat(e.payingMember," paid:")})}),Object.keys(e.members).map((e=>(0,w.jsx)("p",{style:{margin:"5px"},children:e},e)))]})]}),(0,w.jsx)(V,{align:"right",children:"".concat(e.amount," \u20b9")})]},e._id)))})})}),(0,w.jsx)(S,{component:ee.A,children:(0,w.jsxs)(H,{"aria-label":"simple table",children:[(0,w.jsx)(ie,{children:(0,w.jsxs)(_,{children:[(0,w.jsx)(V,{children:"Liquidation"}),(0,w.jsx)(V,{align:"right",children:"Split Share"})]})}),(0,w.jsx)(F,{children:(null===(r=u.expenses)||void 0===r?void 0:r.length)>0&&(null===(a=u.distribution)||void 0===a?void 0:a.giver.map(((e,t)=>{var r,o;return(0,w.jsxs)(_,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,w.jsx)(V,{component:"th",scope:"row",children:"".concat(e," => ").concat(null===(r=u.distribution)||void 0===r?void 0:r.taker[t])}),(0,w.jsx)(V,{align:"right",children:null===(o=u.distribution)||void 0===o?void 0:o.money[t]})]},"".concat(e).concat(t))})))})]})}),(0,w.jsx)(h.A,{variant:"contained",size:"large",onClick:async()=>{const e="".concat(window.location.href,"/").concat(k);try{v(!1),await navigator.clipboard.writeText(e),v(!0)}catch(t){console.error("Error while copying",t)}},color:g?"success":"primary",children:g?"Copied":"Share Bill"})]})})})]})}function he(){return(0,w.jsxs)(i.A,{sx:{display:"flex",justifyContent:"top",alignItems:"top",flexDirection:"column",height:"100vh"},children:[(0,w.jsx)(a.A,{}),(0,w.jsx)(pe,{}),(0,w.jsx)(n.A,{})]})}},4111:(e,t,r)=>{r.d(t,{Y:()=>a,h:()=>n});var o=r(7154);const a=async e=>{try{return await o.A.post("https://bill-splitter-server.vercel.app/payment/add",{...e})}catch(t){throw new Error("Error while sending http request: ".concat(t))}},n=async e=>{try{return await o.A.get("https://bill-splitter-server.vercel.app/payment/get/".concat(e))}catch(t){throw new Error("Error while sending http request: ".concat(t))}}},1637:(e,t,r)=>{r.d(t,{A:()=>z});var o=r(7528),a=r(8587),n=r(8168),i=r(5043),s=r(8387),l=r(8606),c=r(3290),d=r(6803),p=r(2876),h=r(4535),u=r(7056),m=r(2400);function g(e){return(0,m.Ay)("MuiCircularProgress",e)}(0,u.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var v,y,x,A,f=r(579);const b=["className","color","disableShrink","size","style","thickness","value","variant"];let w,j,k,S;const C=44,M=(0,c.i7)(w||(w=v||(v=(0,o.A)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),R=(0,c.i7)(j||(j=y||(y=(0,o.A)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),T=(0,h.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t["color".concat((0,d.A)(r.color))]]}})((e=>{let{ownerState:t,theme:r}=e;return(0,n.A)({display:"inline-block"},"determinate"===t.variant&&{transition:r.transitions.create("transform")},"inherit"!==t.color&&{color:(r.vars||r).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,c.AH)(k||(k=x||(x=(0,o.A)(["\n      animation: "," 1.4s linear infinite;\n    "]))),M)})),N=(0,h.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),H=(0,h.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.circle,t["circle".concat((0,d.A)(r.variant))],r.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:r}=e;return(0,n.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,c.AH)(S||(S=A||(A=(0,o.A)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),R)})),z=i.forwardRef((function(e,t){const r=(0,p.A)({props:e,name:"MuiCircularProgress"}),{className:o,color:i="primary",disableShrink:c=!1,size:h=40,style:u,thickness:m=3.6,value:v=0,variant:y="indeterminate"}=r,x=(0,a.A)(r,b),A=(0,n.A)({},r,{color:i,disableShrink:c,size:h,thickness:m,value:v,variant:y}),w=(e=>{const{classes:t,variant:r,color:o,disableShrink:a}=e,n={root:["root",r,"color".concat((0,d.A)(o))],svg:["svg"],circle:["circle","circle".concat((0,d.A)(r)),a&&"circleDisableShrink"]};return(0,l.A)(n,g,t)})(A),j={},k={},S={};if("determinate"===y){const e=2*Math.PI*((C-m)/2);j.strokeDasharray=e.toFixed(3),S["aria-valuenow"]=Math.round(v),j.strokeDashoffset="".concat(((100-v)/100*e).toFixed(3),"px"),k.transform="rotate(-90deg)"}return(0,f.jsx)(T,(0,n.A)({className:(0,s.A)(w.root,o),style:(0,n.A)({width:h,height:h},k,u),ownerState:A,ref:t,role:"progressbar"},S,x,{children:(0,f.jsx)(N,{className:w.svg,ownerState:A,viewBox:"".concat(22," ").concat(22," ").concat(C," ").concat(C),children:(0,f.jsx)(H,{className:w.circle,style:j,ownerState:A,cx:C,cy:C,r:(C-m)/2,fill:"none",strokeWidth:m})})}))}))}}]);
//# sourceMappingURL=832.8e737925.chunk.js.map